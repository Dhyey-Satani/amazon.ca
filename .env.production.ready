# ðŸš€ PRODUCTION-READY ENVIRONMENT CONFIGURATION
# This configuration solves high-frequency API request issues with rate limiting and caching
# Updated to include all your current variables plus optimization enhancements

# ===== CORE SELENIUM CONFIGURATION (ENFORCED) =====
USE_SELENIUM=true
SELENIUM_TIMEOUT=30  # Increased from 20 for better stability
MAX_RETRIES=3
RETRY_DELAY=60
REQUEST_TIMEOUT=30

# ===== API SERVER CONFIGURATION =====
API_PORT=8000
PORT=8000  # Alternative port variable for compatibility
API_HOST=0.0.0.0

# ===== MONITORING CONFIGURATION (OPTIMIZED) =====
AUTO_START_MONITORING=true  # Changed from false to true for production
POLL_INTERVAL=60  # Increased from 30 to reduce server load and prevent high-frequency requests
AMAZON_URLS="https://hiring.amazon.ca/app#/jobsearch"

# ===== RATE LIMITING & PERFORMANCE (NEW - CRITICAL FOR FIXING HIGH REQUESTS) =====
RATE_LIMIT_REQUESTS_PER_MINUTE=60
CACHE_TTL_SECONDS=10
UVICORN_WORKERS=1
UVICORN_WORKER_CONNECTIONS=100
UVICORN_KEEPALIVE=2

# ===== LOGGING & DEBUGGING =====
LOG_LEVEL=INFO
DESKTOP_NOTIFICATIONS=false
EMAIL_NOTIFICATIONS=false

# ===== DATABASE & DATA MANAGEMENT =====
DATABASE_PATH=/app/data/jobs.db
CLEANUP_DAYS=30

# ===== BROWSER & AUTOMATION =====
AUTO_OPEN_BROWSER=false

# ===== CLOUD/DOCKER CONFIGURATION =====
DOCKER=true
HOME=/app

# ===== CHROME CONFIGURATION (DOCKER/CLOUD) =====
CHROME_BIN=/usr/bin/google-chrome
WEBDRIVER_CHROME_DRIVER=/usr/bin/chromedriver
# Note: Chrome user data directory is now dynamically generated per instance
# This prevents the "user data directory already in use" error

# ===== WINDOWS-SPECIFIC OVERRIDES (UNCOMMENT IF RUNNING ON WINDOWS) =====
# CHROME_BIN="C:\Program Files\Google\Chrome\Application\chrome.exe"
# CHROME_USER_DATA_DIR="C:\Users\%USERNAME%\.chrome_user_data"
# WEBDRIVER_CHROME_DRIVER="auto"  # Let webdriver-manager handle this on Windows